    由于雅克比矩阵存在很多很麻烦的地方，所以在机械界有人发明了CCD的方法

### 循环坐标下降法（CCD）
- 游戏中应用的非常多
- 对所有受IK影响的骨骼，从离父骨骼最远的那个子骨骼开始向目标位置转动，当转动到那个角度之后，下一个子骨骼（更靠近父骨骼的那个）开始向这个角度动；如此迭代，直到最终达到目标

#### 优点
- 结果很稳定。
- 计算次数在5-10次，可以提升计算效率

#### 缺点
- 人体很多关节不是能够360°旋转的，所以需要加角度控制
- **特殊情况**：如果所有的骨骼和目标点都在一条直线上，就会陷入僵局，大家都觉得自己不用转动。
	- 解决办法1：关节永远不能伸直
	- 解决办法2：如果发现有些很直，就向允许的方向加一些细微的旋转


### 基于样例的方法（基于构造的统计模型的IK）
	由于IK存在缺陷：尽管所有的关节都符合数学公式，但是看人体的运动却一点都不自然。所以我们需要其他的方法来解决这个问题。
- 深度学习是一种方法，它是基于很多样例的训练数据确定了一个骨骼运动的限制角度、趋势等等内容。
- 基于样例的方法是深度学习方法的基础。虽然没怎么看懂，不过好像通过demo意会到了一些内容。

---

	通常来说，骨骼绑定师的作用就是手动确定一块皮肤受哪几个骨骼多大的影响。但是这是一个很复杂的工作。如何自动绑定是我们要努力的方向。

### 中性姿势或静止姿势
使用T姿态，可以更容易的将皮肤、衣物等的运动函数随着骨骼运动函数的改变而改变。
	
	那么一块皮肤受哪几个骨骼多大的影响呢？比如手肘的位置？

### 顶点混合法（Vertex Blending）
1. 刚体变换：不真实。**解决办法**是使用顶点混合法
2. 柔性的"skin"：这是最简单的方法，前后臂仍然单独设置冬瓜，但关节处用一个柔性的“skin”来连接。这个skin受前后臂的影响

	如何计算权因子？

有一个数学公式
数学公式的意思就是，通过距离来决定权因子大小。
不过这个过程存在问题，线性顶点混合在极端角的地方会形成“关节塌陷”或者“糖果包裹”这样的形象

### 基于样本的权值确定
不是手工确定权值，而是从样本中学习权值

### 自动绑定：骨架计算
#### 主要思想
Pinocchio主要包含的两个过程：
- 首先在未知的三维模型中嵌入骨架
- 然后计算骨骼对表面网格上每个顶点的影响权值，并将表面皮肤依附在骨骼上

#### 怎么自动计算？
- 可以利用物体的中轴
- 可通过圆/球体拟合来计算


	除了上面的方法之外，运动捕获是一个很好的方法
### 运动捕获
历史悠久、电影、游戏经常使用。因为方便、真实、而且快速，比培养人才的成本低
#### 主要思路
跟踪参考点运动并将信息转化为关节角度，用关节角度驱动关节模型，结合运动轨迹，进行角色的控制
#### MOCAP流水线
1. 标定
	- 获取方法：光学、磁性、机械
	- 照相机标定：用棋盘格标定
	- 多个标记点：有些方法（光学等）容易被遮挡
2. 捕获
	- 光学运动捕获系统：包括主动和被动两种
	- 磁性运动捕获系统：精度有限，很重
	- 机械运动捕获系统
3. 三维位置重建
4. 拟合到骨架
5. 后处理

#### 优缺点
- 优点
	1. 只要能被记录，那么运动真实
- 缺点
	1. 不容易进行（编辑、控制）
	2. 贵
